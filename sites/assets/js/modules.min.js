!function(){"use strict";var e={props:["label","name","dependencies","incomplete_dependencies","onboard","count","route","doctype","open_count","youtube_id"],data:function(){return{hover:!1,popover_hover:!1}},computed:{disabled_dependent:function(){return this.dependencies&&this.incomplete_dependencies},indicator_color:function(){return this.open_count?"red":this.onboard?this.count?"blue":"orange":"grey"},popover_active:function(){return this.popover_hover||this.hover}},methods:{mouseover:function(){$(".module-link-popover").hide(),this.hover=!0},mouseleave:function(){var e=this;setTimeout(function(){e.hover=!1},300)},handle_click:function(e){this.youtube_id?frappe.help.show_video(this.youtube_id):frappe.set_route(this.route)}}},t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"link-item flush-top small",class:{"onboard-spotlight":e.onboard,"disabled-link":e.disabled_dependent},on:{mouseover:e.mouseover,mouseleave:e.mouseleave}},[n("span",{class:["indicator",e.indicator_color]}),e._v(" "),e.disabled_dependent?n("span",{staticClass:"link-content text-muted"},[e._v(e._s(e.label||e.__(e.name)))]):n("a",{staticClass:"link-content",attrs:{href:e.route},on:{click:function(t){return t.preventDefault(),e.handle_click(t)}}},[e._v("\n\t\t"+e._s(e.label||e.__(e.name))+"\n\t")]),e._v(" "),e.disabled_dependent?n("div",{directives:[{name:"show",rawName:"v-show",value:e.popover_active,expression:"popover_active"}],staticClass:"module-link-popover popover fade top in",attrs:{role:"tooltip"},on:{mouseover:function(t){e.popover_hover=!0},mouseleave:function(t){e.popover_hover=!1}}},[n("div",{staticClass:"arrow"}),e._v(" "),n("h3",{staticClass:"popover-title",staticStyle:{display:"none"}}),e._v(" "),n("div",{staticClass:"popover-content",staticStyle:{padding:"12px"}},[n("div",{staticClass:"small text-muted"},[e._v(e._s(e.__("You need to create these first: ")))]),e._v(" "),n("div",{staticClass:"small"},[e._v(e._s(e.__(e.incomplete_dependencies.join(", "))))])])]):e._e()])};t._withStripped=!0;var n={components:{ModuleLinkItem:function(e,t,n,o,a,i,r,s){var d,l=("function"==typeof n?n.options:n)||{};if(l.__file="/home/frappe/frappe-bench/apps/frappe/frappe/public/js/frappe/views/components/ModuleLinkItem.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),l._scopeId=o,t&&(d=function(e){t.call(this,r(e))}),void 0!==d)if(l.functional){var c=l.render;l.render=function(e,t){return d.call(t),c(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,d):[d]}return l}({render:t,staticRenderFns:[]},function(e){e&&e("data-v-32b346d7_0",{source:".link-item[data-v-32b346d7] {\n  position: relative;\n  margin: 10px 0px;\n  cursor: default;\n}\n.onboard-spotlight .link-content[data-v-32b346d7] {\n  font-weight: 600;\n}\na[data-v-32b346d7]:hover,\na[data-v-32b346d7]:focus {\n  text-decoration: underline;\n}\n.indicator[data-v-32b346d7] {\n  margin-right: 5px;\n  color: inherit;\n  font-weight: inherit;\n}\n.link-content[data-v-32b346d7] {\n  flex: 1;\n}\n.popover[data-v-32b346d7] {\n  display: block;\n  top: -60px;\n  max-width: 220px;\n}\n.popover.top > .arrow[data-v-32b346d7] {\n  left: 20%;\n}\n",map:{version:3,sources:["ModuleLinkItem.vue"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;AACjB;AACA;EACE,gBAAgB;AAClB;AACA;;EAEE,0BAA0B;AAC5B;AACA;EACE,iBAAiB;EACjB,cAAc;EACd,oBAAoB;AACtB;AACA;EACE,OAAO;AACT;AACA;EACE,cAAc;EACd,UAAU;EACV,gBAAgB;AAClB;AACA;EACE,SAAS;AACX",file:"ModuleLinkItem.vue",sourcesContent:[".link-item {\n  position: relative;\n  margin: 10px 0px;\n  cursor: default;\n}\n.onboard-spotlight .link-content {\n  font-weight: 600;\n}\na:hover,\na:focus {\n  text-decoration: underline;\n}\n.indicator {\n  margin-right: 5px;\n  color: inherit;\n  font-weight: inherit;\n}\n.link-content {\n  flex: 1;\n}\n.popover {\n  display: block;\n  top: -60px;\n  max-width: 220px;\n}\n.popover.top > .arrow {\n  left: 20%;\n}\n"]},media:void 0})},e,"data-v-32b346d7",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),o="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,a){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var i=o?a.media||"default":e,r=n[i]||(n[i]={ids:[],parts:[],element:void 0});if(!r.ids.includes(e)){var s=a.source,d=r.ids.length;if(r.ids.push(e),o&&(r.element=r.element||document.querySelector("style[data-group="+i+"]")),!r.element){var l=r.element=document.createElement("style");l.type="text/css",a.media&&l.setAttribute("media",a.media),o&&(l.setAttribute("data-group",i),l.setAttribute("data-next-index","0")),t.appendChild(l)}if(o&&(d=parseInt(r.element.getAttribute("data-next-index")),r.element.setAttribute("data-next-index",d+1)),r.element.styleSheet)r.parts.push(s),r.element.styleSheet.cssText=r.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),u=r.element.childNodes;u[d]&&r.element.removeChild(u[d]),u.length?r.element.insertBefore(c,u[d]):r.element.appendChild(c)}}}}})},props:["module_name","sections"]},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.sections.length?n("div",{staticClass:"sections-container"},e._l(e.sections,function(t){return n("div",{key:t.label,staticClass:"border section-box"},[n("h4",{staticClass:"h4"},[e._v(" "+e._s(t.label)+" ")]),e._v(" "),e._l(t.items,function(o){return n("module-link-item",e._b({key:t.label+o.label,attrs:{"data-youtube-id":"help"===o.type&&o.youtube_id,open_count:"doctype"===o.type&&e.frappe.boot.notification_info.open_count_doctype[o.doctype]}},"module-link-item",o,!1))})],2)}),0):n("div",{staticClass:"sections-container"},e._l(3,function(e){return n("div",{key:e,staticClass:"skeleton-section-box"})}),0)])};o._withStripped=!0;var a={components:{ModuleDetail:function(e,t,n,o,a,i,r,s){var d,l=("function"==typeof n?n.options:n)||{};if(l.__file="/home/frappe/frappe-bench/apps/frappe/frappe/public/js/frappe/views/components/ModuleDetail.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),l._scopeId=o,t&&(d=function(e){t.call(this,r(e))}),void 0!==d)if(l.functional){var c=l.render;l.render=function(e,t){return d.call(t),c(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,d):[d]}return l}({render:o,staticRenderFns:[]},function(e){e&&e("data-v-4cc8f46c_0",{source:".sections-container[data-v-4cc8f46c] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  column-gap: 15px;\n  row-gap: 15px;\n}\n.section-box[data-v-4cc8f46c] {\n  padding: 5px 20px;\n  border-radius: 4px;\n}\n.skeleton-section-box[data-v-4cc8f46c] {\n  background-color: #f5f7fa;\n  height: 250px;\n  border-radius: 4px;\n}\n.h4[data-v-4cc8f46c] {\n  margin-bottom: 15px;\n}\n",map:{version:3,sources:["ModuleDetail.vue"],names:[],mappings:"AAAA;EACE,aAAa;EACb,4DAA4D;EAC5D,gBAAgB;EAChB,aAAa;AACf;AACA;EACE,iBAAiB;EACjB,kBAAkB;AACpB;AACA;EACE,yBAAyB;EACzB,aAAa;EACb,kBAAkB;AACpB;AACA;EACE,mBAAmB;AACrB",file:"ModuleDetail.vue",sourcesContent:[".sections-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  column-gap: 15px;\n  row-gap: 15px;\n}\n.section-box {\n  padding: 5px 20px;\n  border-radius: 4px;\n}\n.skeleton-section-box {\n  background-color: #f5f7fa;\n  height: 250px;\n  border-radius: 4px;\n}\n.h4 {\n  margin-bottom: 15px;\n}\n"]},media:void 0})},n,"data-v-4cc8f46c",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),o="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,a){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var i=o?a.media||"default":e,r=n[i]||(n[i]={ids:[],parts:[],element:void 0});if(!r.ids.includes(e)){var s=a.source,d=r.ids.length;if(r.ids.push(e),o&&(r.element=r.element||document.querySelector("style[data-group="+i+"]")),!r.element){var l=r.element=document.createElement("style");l.type="text/css",a.media&&l.setAttribute("media",a.media),o&&(l.setAttribute("data-group",i),l.setAttribute("data-next-index","0")),t.appendChild(l)}if(o&&(d=parseInt(r.element.getAttribute("data-next-index")),r.element.setAttribute("data-next-index",d+1)),r.element.styleSheet)r.parts.push(s),r.element.styleSheet.cssText=r.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),u=r.element.childNodes;u[d]&&r.element.removeChild(u[d]),u.length?r.element.insertBefore(c,u[d]):r.element.appendChild(c)}}}}})},data:function(){return{route:frappe.get_route(),current_module_label:"",current_module_sections:[],modules_data_cache:{},modules_list:frappe.boot.allowed_modules.filter(function(e){return("module"===e.type||"Places"===e.category)&&!e.blocked})}},created:function(){this.update_current_module()},mounted:function(){var e=this;frappe.module_links={},frappe.route.on("change",function(){e.update_current_module()})},methods:{update_current_module:function(){var e=frappe.get_route();if("modules"===e[0]||!e[0]){this.route=e;var t=this.modules_list.filter(function(t){return t.module_name==e[1]})[0],n=t&&(t.label||t.module_name),o=this.current_module_label?this.current_module_label:n;frappe.modules.home&&frappe.modules.home.page.set_title(o),frappe.modules.home||setTimeout(function(){frappe.modules.home.page.set_title(o)},200),n&&this.get_module_sections(t.module_name)}},get_module_sections:function(e){var t=this,n=this.modules_data_cache[e];if(!n)return this.current_module_sections=[],frappe.call({method:"frappe.desk.moduleview.get",args:{module:e},callback:function(n){frappe.get_module(e);t.current_module_sections=n.message.data,t.process_data(e,t.current_module_sections),t.modules_data_cache[e]=t.current_module_sections},freeze:!0});this.current_module_sections=n},process_data:function(e,t){frappe.module_links[e]=[],t.forEach(function(e){e.items.forEach(function(e){e.route=function(e){"doctype"===e.type&&(e.doctype=e.name);var t="";return e.route?t=e.route:(e.link?t=strip(e.link,"#"):"doctype"===e.type?frappe.model.is_single(e.doctype)?t="Form/"+e.doctype:(e.filters&&(frappe.route_options=e.filters),t="List/"+e.doctype):"report"===e.type&&e.is_query_report?t="query-report/"+e.name:"report"===e.type?t="List/"+e.doctype+"/Report/"+e.name:"page"===e.type&&(t=e.name),t="#"+t),e.route_options&&(t+="?"+$.map(e.route_options,function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&")),t}(e)})})}}},i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modules-page-container"},[this.route&&this.modules_list.map(function(e){return e.module_name}).includes(this.route[1])?t("module-detail",{attrs:{module_name:this.route[1],sections:this.current_module_sections}}):this._e()],1)};i._withStripped=!0;var r=function(e,t,n,o,a,i,r,s){var d,l=("function"==typeof n?n.options:n)||{};if(l.__file="/home/frappe/frappe-bench/apps/frappe/frappe/public/js/frappe/views/components/Modules.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),l._scopeId=o,t&&(d=function(e){t.call(this,r(e))}),void 0!==d)if(l.functional){var c=l.render;l.render=function(e,t){return d.call(t),c(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,d):[d]}return l}({render:i,staticRenderFns:[]},function(e){e&&e("data-v-3ba880fe_0",{source:".modules-page-container[data-v-3ba880fe] {\n  margin: 15px 0px;\n}\n",map:{version:3,sources:["Modules.vue"],names:[],mappings:"AAAA;EACE,gBAAgB;AAClB",file:"Modules.vue",sourcesContent:[".modules-page-container {\n  margin: 15px 0px;\n}\n"]},media:void 0})},a,"data-v-3ba880fe",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),o="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,a){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var i=o?a.media||"default":e,r=n[i]||(n[i]={ids:[],parts:[],element:void 0});if(!r.ids.includes(e)){var s=a.source,d=r.ids.length;if(r.ids.push(e),o&&(r.element=r.element||document.querySelector("style[data-group="+i+"]")),!r.element){var l=r.element=document.createElement("style");l.type="text/css",a.media&&l.setAttribute("media",a.media),o&&(l.setAttribute("data-group",i),l.setAttribute("data-next-index","0")),t.appendChild(l)}if(o&&(d=parseInt(r.element.getAttribute("data-next-index")),r.element.setAttribute("data-next-index",d+1)),r.element.styleSheet)r.parts.push(s),r.element.styleSheet.cssText=r.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),u=r.element.childNodes;u[d]&&r.element.removeChild(u[d]),u.length?r.element.insertBefore(c,u[d]):r.element.appendChild(c)}}}}});frappe.provide("frappe.modules"),frappe.modules.Home=class{constructor(e){var t=e.parent;this.$parent=$(t),this.page=t.page,this.setup_header(),this.make_body()}make_body(){this.$modules_container=this.$parent.find(".layout-main"),new Vue({el:this.$modules_container[0],render:function(e){return e(r)}})}setup_header(){}}}();
//# sourceMappingURL=modules.min.js.map
